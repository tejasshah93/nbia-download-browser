<html>
<head>
<title>Fetch Tarstream From The Server</title>
<!--<script src="outBrowserify.js"></script>-->
<script type="text/javascript">

// GET the data from the server using XMLHttpRequest
var getTar = function (){
  // The URL to GET our data to
  var url = 'http://public.cancerimagingarchive.net/nbia-download/servlet/DownloadServlet?userId=nbia_guest&includeAnnotation=true&hasAnnotation=true&seriesUid=1.3.6.1.4.1.14519.5.2.1.6279.6001.465203542815096670421396392391&sopUids=';

  // Set up an asynchronous AJAX GET request
  var xhr = new XMLHttpRequest();
  xhr.open('GET', url, true);

  // Set custom headers
  xhr.setRequestHeader('password', '');

  // Handle request state change events
  xhr.onreadystatechange = function() {
    // If the request completed
    console.log(xhr.readyState);
    if (xhr.readyState == 4) {
      if (xhr.status == 200) {
        // If it was a success, close the popup after a short delay
        console.log("Tarball downloaded completely");
      }
      else {
        console.log(xhr.status);
      }
    }
  };

  // Send the request and set status
  xhr.send();
};
</script>
</head>
<body>
<button onclick="getTar()" >Get Tarstream</button>
</body>
